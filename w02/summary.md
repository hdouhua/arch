02周总结——框架设计
===

* [软件开发简史](#软件开发简史)
    * [莱布尼茨的奇思怪想](#莱布尼茨的奇思怪想)
    * [什么是计算机？什么是程序？](#什么是计算机什么是程序)
    * [现代计算机与现代的程序](#现代计算机与现代的程序)
    * [形形色色的编程语言](#形形色色的编程语言)
    * [编程语言的实质](#编程语言的实质)
        * [问题领域](#问题领域)
        * [抽象的种类](#抽象的种类)
        * [编程方法的演进](#编程方法的演进)
        * [编程的核心要素](#编程的核心要素)
* [面向对象编程（OOP）](#面向对象编程oop)
    * [什么是面向对象编程？](#什么是面向对象编程)
    * [什么是对象？](#什么是对象)
    * [三要素/特征](#三要素特征)
* [面向对象分析（OOA）](#面向对象分析ooa)
* [面向对象设计（OOD）](#面向对象设计ood)
* [框架vs工具](#框架vs工具)
* [案例](#案例)
* [面向对象设计原则](#面向对象设计原则)
    * [OCP open-close principle 开闭原则](#ocp-open-close-principle-开闭原则)
    * [DIP dependency inversion principle 依赖倒置原则](#dip-dependency-inversion-principle-依赖倒置原则)
    * [LSP Liskov substitution principle 李氏置换原则](#lsp-liskov-substitution-principle-李氏置换原则)
        * [违反LSP的例子](#违反lsp的例子)
        * [重构代码，解决LSP问题](#重构代码解决lsp问题)
        * [何时检测LSP？](#何时检测lsp)
    * [SRP single responsibility principle 接口隔离原则](#srp-single-responsibility-principle-接口隔离原则)
    * [ISP interface segregation principle 接口隔离原则](#isp-interface-segregation-principle-接口隔离原则)
* [老师推荐书籍](#老师推荐书籍)
* [扩展——反应式编程](#扩展反应式编程)
    * [Flower框架](#flower框架)
    * [个人扩展](#个人扩展)


## 软件开发简史

### 莱布尼茨的奇思怪想

计算机软件编程是一个新兴的行业——历经半个多世纪的发展，但是人类从事软件编程的探索却要久远的多。最早开始编程探索的人是德国人莱布尼茨，在1700年代。。。

### 什么是计算机？什么是程序？

严格来讲现代计算机之前的都称为计算器，它们都是专门进行数值计算的，如加减乘除、微积分等。

现代计算机是一种通用计算机，不是读取数值进行计算，而是读取数据进行计算，这些数据本身包含着计算的逻辑，这个数据就是程序。

### 现代计算机与现代的程序

当冯诺伊曼在ENICA计算机上输入第一个程序的时候，标志着现代计算机的诞生，也意味着软件编程这个新兴的行业即将出现。

最早的编程非常麻烦，程序员需要将电线编来编去，作为输入数据，以控制计算机的执行，这也是编程这个词的由来。不过很快人们就将打孔纸带应用到计算机上，编程的效率极大的提升。

### 形形色色的编程语言


### 编程语言的实质

编程的目的：用计算机来解决现实世界的问题！

编程的过程：在计算所能理解的“模型”（解空间）和现实世界（问题空间）之间建立一种联系。

编程语言是一种“抽象”的机制，问题是对“谁”来抽象

#### 问题领域

包含与系统所要解决的问题相关的实物和概念的空间。

#### 抽象的种类

- 机器代码和汇编语言
  
  - 对基础机器进行抽象

- 非结构化的编程语言

  - 如Basic、Fortran
  - 对计算处理逻辑抽象

- 结构化的程序设计

  - 开始对问题领域进行一定程度的抽象

- 面向对象的程序设计

  - 直接表的问题空间域的元素

#### 编程方法的演进

#### 编程的核心要素

| 要素         |          |
| ------------ | -------- |
| 人           | 劳动者   |
| 客观业务领域 | 劳动对象 |
| 计算机       | 劳动工具 |

到了主题了。。。

## 面向对象编程（OOP）

### 什么是面向对象编程？

### 什么是对象？

万物皆对象！

对象：具有状态、行为和标识

状态：

行为：

标识：

### 三要素/特征

- 封装（encapsulation）
  - 隐藏实现细节（访问控制）
  - 定义接口
- 继承（inheritance）
  - IS-A关系
  - HAS-A关系（组合）
- 多态（polymorphism）
  - 后期绑定（虚方法）
  - 向上转型（up casting）

这三个特性都不是面向对象编程独有的。

>  面向对象编程不是使用面向对象的语言编程，而是利用多态特性进行编程。

## 面向对象分析（OOA）

业务领域进行对象分析

## 面向对象设计（OOD）

目的：强内聚、松耦合

基于以上目的使系统：

- 易扩展：增加功能

- 更健壮：

- 可移植：多样化的运行环境

- 更简单：易理解、易维护

## 框架vs工具

框架：实现某一类应用的结构性程序，是对某一类架构方案可复用的设计与实现

常见框架：TBD

框架调用应用程序代码，应用程序代码调用工具

架构师用框架保证架构的落地，用工具提高开发效率

## 案例

寻找对象 -> 寻找名词

理解面向对象编程

## 面向对象设计原则

### OCP open-close principle 开闭原则

对扩展开放，对修改关闭

不需要修改软件实体（类、模块、函数等），就可以实现功能的扩展 ——关键是抽象

实现OCP的关键在于抽象，而抽象的威力在于多态和继承

### DIP dependency inversion principle 依赖倒置原则

高层模块不应依赖低层模块，都依赖于抽象

抽象不依赖实现，而是实现依赖抽象

倒置了什么？

- 倒置了模块或包的依赖关系

- 开发顺序和职责
  - 高层决定低层
  - 高层被复用

### LSP Liskov substitution principle 李氏置换原则

派生类（子类）对象可以在程序中代替其基类（超类/父类）对象。

一个正确的继承要符合什么要求？——LSP

##### 违反LSP的例子

**为什么正方形IS-NOT-A长方形？**

- 标识：不同

- 状态：不同

- 行为：相同

 ——设计和界定一个类，应该以其行为来区分。

从契约的角度看

凡是使用父类的地方，可以用子类替代

=> 子类的契约不能比父类更严格

=> 正方形不可以是长方形的子类

#### 重构代码，解决LSP问题

- 提取共性到基类

- 改继承为组合

  继承 vs 组合

  - OOP的两种扩展手段

  - 继承的优点

    - 容易实现

  - 继承的缺点

    - 破坏了封装

    - 继承关系是静态的

    - 类层级爆炸

  ——优先使用组合

#### 何时检测LSP？

避免“过于复杂”或“过度设计”，只预测明显违反LSP的情况，推迟其它的预测。

### SRP single responsibility principle 接口隔离原则

- 被称为“内聚性原则”（cohesion）——一个模块的组成元素之间的功能相关性

- 一个类只能有一个引起它变化的原因

这个类的职责其实还是比较需要度来把握是否需要拆分

### ISP interface segregation principle 接口隔离原则

- 不应该强迫客户程序依赖它们不需要的方法。

- 内聚性相关原则
- 从客户的需求出发，强调不要让客户看到他们不需要的方法

## 老师推荐书籍

[《敏捷软件开发—原则、模式与实践》](https://item.jd.com/10078483.html)


架构师角度是技术优先，公司角度是业务优先，架构师需要多元化思考，找到一个权衡点

## 扩展——反应式编程

### Flower框架

使用了[Akka](https://akka.io/)框架

### 个人扩展

去学习了 actor model in .net [akka.net](https://getakka.net/)
